#! /usr/bin/env ruby

require 'FileUtils'
#deletes all existing files in the public directory
FileUtils.rm_rf Dir.glob('public/*')

#Copy the style.css directory into the public directory
FileUtils.cp 'style.css', 'public/style.css'

#Copy the img directory into the public directory
FileUtils.cp_r 'img', 'public' 

header = File.read('partials/header.html')
#This content variable needs to store information relevant to files as the loop iterates... not sure how to do this
#content = File.read('content/index.html')
footer = File.read('partials/footer.html')

wholepage = header + footer


basename = File.basename('content')


Dir.foreach('content') do

  generated_filename = 'public/' + basename
  article_filename = 'content/' + basename
	
  File.open("#{generated_filename}", 'w') {|f| f.write(wholepage) }

end
